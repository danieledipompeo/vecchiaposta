<div id="map-widget-wrapper">
    <div id="map-widget">
    </div>
    <!-- END #map-widget-wrapper -->
    <script type="text/javascript">

        {if ( $map_instance->latitudine == null || $map_instance->longitudine == null)}
            $(document).ready(function initializeMap() {
                var mapOptions = {
                    center: new google.maps.LatLng(42.356261,13.39949),
                    zoom: 12,
                    navigationControl: false,
                    mapTypeControl: false,
                    scaleControl: false,
                    draggable: false,
                    scrollwheel: false,
                    mapTypeId: google.maps.MapTypeId.SATELLITE
                };
                mapWidget = new google.maps.Map(document.getElementById("map-widget"),mapOptions);
            });
        {else}
            $(document).ready(function initializeMap() {
                var mapOptions = {
                    center: new google.maps.LatLng({$map_instance->latitudine}, {$map_instance->longitudine}),
                    zoom: 14,
                    navigationControl: false,
                    mapTypeControl: false,
                    scaleControl: false,
                    draggable: false,
                    scrollwheel: false,
                    mapTypeId: google.maps.MapTypeId.SATELLITE
                };
                mapWidget = new google.maps.Map(document.getElementById("map-widget"),mapOptions);

                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng({$map_instance->latitudine}, {$map_instance->longitudine}),
                    map: mapWidget,
                    title: '{$map_instance->luogo}'
                });
            });
        {/if}
    </script>
</div>